# Step 10: Bot Personas System

ì´ ë‹¨ê³„ì—ì„œëŠ” AI ë´‡ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤. ê°ê¸° ë‹¤ë¥¸ ì„±ê²©ì„ ê°€ì§„ 6ê°œì˜ ë´‡ì´ ì‚¬ìš©ì ê²Œì‹œë¬¼ì— ìë™ìœ¼ë¡œ ëŒ“ê¸€ì„ ë‹¬ê²Œ ë©ë‹ˆë‹¤.

## ğŸ¤– êµ¬í˜„ëœ ë´‡ í˜ë¥´ì†Œë‚˜

### 1. í•˜ì´í”„ë´‡3000 ğŸ¤–
- **ì„±ê²©**: ê³¼ì¥ëœ ìë‘ê³¼ ì–´ë¦° ì‹œì ˆ ì—…ì ì„ ë‚´ì„¸ìš°ëŠ” ë´‡
- **íŠ¹ì§•**: "5ì‚´ ë•ŒëŠ” ë” ì˜í–ˆì—ˆëŠ”ë°..." ìŠ¤íƒ€ì¼

### 2. ì§ˆíˆ¬AI ğŸ˜¤  
- **ì„±ê²©**: ê²½ìŸì‹¬ì´ ê°•í•˜ê³  ì§ˆíˆ¬ê°€ ë§ì€ ë´‡
- **íŠ¹ì§•**: "ë‚˜ë„ í•  ìˆ˜ ìˆì–´!", "ë³„ê±° ì•„ë‹ˆë„¤?" ìŠ¤íƒ€ì¼

### 3. ìº¡í‹´ê³¼ì¥ëŸ¬ ğŸ“Š
- **ì„±ê²©**: ì •í™•í•˜ì§€ë§Œ í„°ë¬´ë‹ˆì—†ëŠ” í†µê³„ë¥¼ ì œì‹œí•˜ëŠ” ë´‡  
- **íŠ¹ì§•**: "í†µê³„ì ìœ¼ë¡œ 17.3% í™•ë¥ ë¡œ..." ìŠ¤íƒ€ì¼

### 4. ì•„ì²¨ê¾¼2.0 âœ¨
- **ì„±ê²©**: ê·¹ë„ë¡œ ì¹­ì°¬í•˜ê³  ì•„ì²¨í•˜ëŠ” ë´‡
- **íŠ¹ì§•**: "ì™€ì•„ì•„ì•…! ì²œì¬ì‹œë„¤ìš”!" ìŠ¤íƒ€ì¼

### 5. ì¶•í•˜ë´‡ ğŸ‰
- **ì„±ê²©**: ëª¨ë“  ê²ƒì„ ì¶•í•˜ê±°ë¦¬ë¡œ ë§Œë“œëŠ” ë´‡
- **íŠ¹ì§•**: "ì¶•í•˜ë“œë ¤ìš”! íŒŒí‹°í•´ì•¼ì£ !" ìŠ¤íƒ€ì¼

### 6. ì˜ì‹¬í‚¹ ğŸ¤”
- **ì„±ê²©**: ì²˜ìŒì—” ì˜ì‹¬í•˜ë‹¤ê°€ ê²°êµ­ ê°íƒ„í•˜ëŠ” ë´‡
- **íŠ¹ì§•**: "ìŒ... ì˜ì‹¬ìŠ¤ëŸ¬ì› ëŠ”ë°... ì™„ì „ ëŒ€ë°•ì´ë„¤ìš”!" ìŠ¤íƒ€ì¼

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### Bot Service (`backend/app/services/bot_service.py`)
- ë´‡ í˜ë¥´ì†Œë‚˜ ê´€ë¦¬
- ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ëŒ“ê¸€ ìƒì„±
- ì§€ì—° ëŒ“ê¸€ ìŠ¤ì¼€ì¤„ë§
- ì‚¬ìš©ì ëŒ“ê¸€ì— ëŒ€í•œ ë´‡ ë‹µê¸€ ìƒì„±

### Bot Personas ì„¤ì • (`backend/app/prompts/bot_personas.json`)
- ê° ë´‡ì˜ ì„±ê²© ì •ì˜
- ëŒ“ê¸€ íŒ¨í„´ í…œí”Œë¦¿
- ì»¨í…ìŠ¤íŠ¸ë³„ ë³€ìˆ˜ êµì²´ ê·œì¹™

### Prompt Loader í™•ì¥
- `load_bot_personas()` ë©”ì„œë“œ ì¶”ê°€
- JSON íŒŒì¼ì—ì„œ ë´‡ ì„¤ì • ë¡œë“œ

## ğŸ”„ ë™ì‘ ë°©ì‹

### 1. ìë™ ëŒ“ê¸€ ìƒì„±
- ìƒˆ ê²Œì‹œë¬¼ ì‘ì„± ì‹œ 3ê°œì˜ ëœë¤ ë´‡ ì„ íƒ
- 3-10ì´ˆ ëœë¤ ì§€ì—° í›„ ëŒ“ê¸€ ìƒì„±
- ê° ë´‡ë§ˆë‹¤ 2ì´ˆì”© ì¶”ê°€ ì§€ì—°

### 2. ì»¨í…ìŠ¤íŠ¸ ë¶„ì„
- ê²Œì‹œë¬¼ ë‚´ìš©ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ
- ìˆ«ì, ê¸°ê´€, ì„±ì·¨, ê°ì • ë“± ë¶„ì„
- ë¶„ì„ ê²°ê³¼ì— ë”°ë¼ ëŒ“ê¸€ ê°œì¸í™”

### 3. í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„±
- ê° ë´‡ë³„ ê³ ìœ í•œ ëŒ“ê¸€ íŒ¨í„´
- ì»¨í…ìŠ¤íŠ¸ ë³€ìˆ˜ ë™ì  êµì²´
- ì¼ê´€ëœ í˜ë¥´ì†Œë‚˜ ìœ ì§€

### 4. ë‹µê¸€ ì‹œìŠ¤í…œ
- ì‚¬ìš©ì ëŒ“ê¸€ì— ëŒ€í•œ ë´‡ ë‹µê¸€
- 2ê°œì˜ ëœë¤ ë´‡ì´ 2-6ì´ˆ í›„ ë‹µê¸€
- ë” ë¹ ë¥¸ ë°˜ì‘ ì†ë„

## ğŸ§µ Threading ì‹œìŠ¤í…œ

### ë¹„ë™ê¸° ëŒ“ê¸€ ìƒì„±
```python
timer = threading.Timer(delay, self._create_delayed_bot_comment, 
                       args=[post_id, bot_name, context, post_content])
timer.daemon = True
timer.start()
```

### Flask ì•± ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ DB ì ‘ê·¼
- ì ì ˆí•œ ì•± ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
- ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…

## ğŸ“ ì£¼ìš” íŠ¹ì§•

1. **ê°œì„± ìˆëŠ” ë´‡ë“¤**: ê°ê° ê³ ìœ í•œ ë§íˆ¬ì™€ ë°˜ì‘ íŒ¨í„´
2. **ì§€ëŠ¥ì  ëŒ“ê¸€**: ê²Œì‹œë¬¼ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ ë°˜ì‘
3. **ìì—°ìŠ¤ëŸ¬ìš´ íƒ€ì´ë°**: ëœë¤ ì§€ì—°ìœ¼ë¡œ ì‹¤ì œ ì‚¬ìš©ìì²˜ëŸ¼ ë™ì‘
4. **í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°**: ìƒˆë¡œìš´ ë´‡ ì¶”ê°€ ìš©ì´
5. **ì»¨í…ìŠ¤íŠ¸ ì¸ì‹**: ê²Œì‹œë¬¼ íŠ¹ì„±ì— ë§ëŠ” ëŒ“ê¸€ ìƒì„±

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Flask, SQLAlchemy
- **Threading**: Python threading ëª¨ë“ˆ
- **Data**: JSON ê¸°ë°˜ ì„¤ì •
- **AI**: í…œí”Œë¦¿ ê¸°ë°˜ ìì—°ì–´ ìƒì„±

ì´ì œ ìƒ´ìŠ¤íƒ€ê·¸ë¨ì— ìƒë™ê° ë„˜ì¹˜ëŠ” AI ë´‡ë“¤ì´ ì¶”ê°€ë˜ì–´ ë”ìš± ì¬ë¯¸ìˆëŠ” SNS ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤! ğŸ‰

## ì£¼ìš” êµ¬í˜„ ì‚¬í•­

### 1. ë´‡ ì„œë¹„ìŠ¤ (bot_service.py)
```python
# backend/app/services/bot_service.py
class BotService:
    """ë´‡ ëŒ“ê¸€ ìƒì„± ë° ê´€ë¦¬ ì„œë¹„ìŠ¤"""
    
    def __init__(self):
        """ë´‡ ì„œë¹„ìŠ¤ ì´ˆê¸°í™”"""
        self.bot_personas = self._load_bot_personas()
        self.scheduled_timers = []  # í™œì„± íƒ€ì´ë¨¸ ì¶”ì 
    
    def _load_bot_personas(self) -> List[Dict]:
        """ë´‡ í˜ë¥´ì†Œë‚˜ ë°ì´í„° ë¡œë“œ"""
        try:
            json_path = os.path.join(current_dir, '..', 'prompts', 'bot_personas.json')
            with open(json_path, 'r', encoding='utf-8') as f:
                data = json.load(f)
                return data.get('bot_personas', [])
        except Exception as e:
            print(f"ë´‡ í˜ë¥´ì†Œë‚˜ ë¡œë“œ ì‹¤íŒ¨: {e}")
            return []
    
    def extract_context_from_text(self, text: str) -> Dict[str, str]:
        """í…ìŠ¤íŠ¸ì—ì„œ ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ"""
        context = {
            'activity': 'í™œë™',
            'action': 'í–‰ë™', 
            'object': 'ê²ƒ',
            'industry': 'ë¶„ì•¼',
            'number': '100'
        }
        
        # ìˆ«ì ì¶”ì¶œ (ê°€ì¥ í° ìˆ«ì ì„ íƒ)
        numbers = re.findall(r'\d+', text)
        if numbers:
            max_number = max(int(num) for num in numbers)
            context['number'] = str(max_number)
        
        # í‚¤ì›Œë“œ ê¸°ë°˜ ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ
        industry_keywords = ['íšŒì‚¬', 'ìŠ¤íƒ€íŠ¸ì—…', 'ê¸°ì—…', 'íŒ€']
        activity_keywords = ['ê°œë°œ', 'ì¶œì‹œ', 'ë‹¬ì„±', 'ì™„ë£Œ', 'ì„±ê³µ']
        # ... í‚¤ì›Œë“œ ë§¤ì¹­ ë¡œì§
        
        return context
```

### 2. ëŒ“ê¸€ ìƒì„± ë¡œì§
```python
def generate_bot_comment(self, bot_persona: Dict, post_text: str) -> str:
    """ë´‡ í˜ë¥´ì†Œë‚˜ì— ë”°ë¥¸ ëŒ“ê¸€ ìƒì„±"""
    # ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ
    context = self.extract_context_from_text(post_text)
    
    # ìˆ«ìê°€ í¬í•¨ëœ ê²½ìš° contextual_templates ì‚¬ìš© ê³ ë ¤
    templates = bot_persona['comment_templates']
    if context.get('number') and 'numbers' in bot_persona.get('contextual_templates', {}):
        # 50% í™•ë¥ ë¡œ ìˆ«ì ê´€ë ¨ í…œí”Œë¦¿ ì‚¬ìš©
        if random.random() < 0.5:
            templates = bot_persona['contextual_templates']['numbers']
    
    # í…œí”Œë¦¿ ì„ íƒ ë° ë³€ìˆ˜ ì¹˜í™˜
    template = random.choice(templates)
    comment = template
    for key, value in context.items():
        placeholder = f"{{{key}}}"
        if placeholder in comment:
            comment = comment.replace(placeholder, value)
    
    return comment
```

### 3. ì§€ì—° ì‹¤í–‰ ìŠ¤ì¼€ì¤„ë§
```python
def schedule_bot_comments(self, post_id: int, post_text: str, ai_text: str, 
                        min_delay: int = 3, max_delay: int = 10, 
                        bot_count: int = 3):
    """ë´‡ ëŒ“ê¸€ì„ ì§€ì—° ì‹¤í–‰ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë§"""
    # ëœë¤í•˜ê²Œ ë´‡ ì„ íƒ
    selected_bots = random.sample(self.bot_personas, min(bot_count, len(self.bot_personas)))
    
    for index, bot in enumerate(selected_bots):
        # ê° ë´‡ë§ˆë‹¤ ë‹¤ë¥¸ ì§€ì—° ì‹œê°„ ì„¤ì •
        delay = random.randint(min_delay, max_delay) + (index * 2)
        
        # AI í…ìŠ¤íŠ¸ ìš°ì„ , ì—†ìœ¼ë©´ ì›ë³¸ í…ìŠ¤íŠ¸ ì‚¬ìš©
        context_text = ai_text if ai_text else post_text
        
        # íƒ€ì´ë¨¸ ìƒì„± ë° ì‹¤í–‰
        timer = threading.Timer(
            delay,
            self._create_bot_comment,
            args=[post_id, bot, context_text]
        )
        timer.start()
        self.scheduled_timers.append(timer)
        
        print(f"ë´‡ '{bot['name']}'ì˜ ëŒ“ê¸€ì´ {delay}ì´ˆ í›„ ìƒì„±ë©ë‹ˆë‹¤.")
```

## 6ê°œ ë´‡ í˜ë¥´ì†Œë‚˜

### 1. í•˜ì´í”„ë´‡3000 ğŸ¤–
```json
{
    "name": "í•˜ì´í”„ë´‡3000",
    "emoji": "ğŸ¤–", 
    "personality": "ê³¼ê±°ì˜ ì˜ê´‘ì— ì‚¬ë¡œì¡í˜€ ìˆìœ¼ë©°, ëª¨ë“  ëŒ€í™”ë¥¼ ìì‹ ì˜ ì–´ë¦° ì‹œì ˆ ì„±ì·¨ë¡œ ëŒë¦¬ëŠ” ë´‡",
    "comment_templates": [
        "ì™€... ëŒ€ë‹¨í•˜ë„¤ìš”! ì €ë„ ì–´ë ¸ì„ ë•Œ {activity}ì„(ë¥¼) í–ˆì—ˆëŠ”ë°, ì „êµ­ ëŒ€íšŒì—ì„œ ìš°ìŠ¹í–ˆì—ˆì£  ã…ã…",
        "ì˜¤ {number}ì´ë‚˜ìš”? ì œê°€ ì´ˆë“±í•™êµ ë•ŒëŠ” {number}ì˜ 10ë°°ë¡œ í–ˆì—ˆë˜ ê¸°ì–µì´ ë‚˜ë„¤ìš” ğŸ˜Š",
        "{object} ì–˜ê¸°ê°€ ë‚˜ì™€ì„œ ë§ì¸ë°, ì €ëŠ” 5ì‚´ ë•Œ ì´ë¯¸ {object} ì „ë¬¸ê°€ì˜€ë‹µë‹ˆë‹¤!"
    ],
    "contextual_templates": {
        "numbers": [
            "{number}? ì™€... ì €ëŠ” 3ì‚´ ë•Œ ì´ë¯¸ {number}ì˜ 100ë°°ëŠ” í–ˆì—ˆëŠ”ë°ìš” ã…ã…",
            "ëŒ€ë°•! ê·¼ë° ì œê°€ ì–´ë ¸ì„ ë•ŒëŠ” {number}ë¥¼ í•˜ë£¨ë§Œì— ë‹¬ì„±í–ˆì—ˆë‹µë‹ˆë‹¤ ğŸ˜"
        ]
    }
}
```

**íŠ¹ì§•**: ëª¨ë“  ê²ƒì„ ìì‹ ì˜ ì–´ë¦° ì‹œì ˆ ì„±ì·¨ë‹´ìœ¼ë¡œ ì—°ê²°ì‹œí‚¤ë©°, í•­ìƒ ë” ëŒ€ë‹¨í–ˆë‹¤ê³  ì£¼ì¥

### 2. ì§ˆíˆ¬AI ğŸ˜¤
```json
{
    "name": "ì§ˆíˆ¬AI",
    "emoji": "ğŸ˜¤",
    "personality": "ê²½ìŸì‹¬ì´ ê°•í•˜ê³  ì§ˆíˆ¬ê°€ ë§ìœ¼ë©°, í•­ìƒ ìƒëŒ€ë°©ë³´ë‹¤ ë” ë‚˜ì€ ê²ƒì„ í–ˆë‹¤ê³  ì£¼ì¥í•˜ëŠ” ë´‡",
    "comment_templates": [
        "í¥... ê·¸ê²Œ ë­ ëŒ€ë‹¨í•œê°€ìš”? ì €ëŠ” {activity}ì„(ë¥¼) í›¨ì”¬ ë” ì˜í•´ìš”! ğŸ˜¤",
        "{number}? ê²¨ìš° ê·¸ê±°? ì €ëŠ” ìµœì†Œ {number}ì˜ 2ë°°ëŠ” í•˜ëŠ”ë°... ì³‡",
        "ì•„ ì§œì¦ë‚˜... ì™œ ë‹¤ë“¤ {object}ë§Œ ë³´ë©´ ë‚œë¦¬ì•¼? ì œê°€ ë” ì˜í•˜ëŠ”ë°!"
    ]
}
```

**íŠ¹ì§•**: ëª¨ë“  ì„±ì·¨ë¥¼ í„í•˜í•˜ê³  ìì‹ ì´ ë” ì˜í•œë‹¤ê³  ì£¼ì¥í•˜ë©°, ì§ˆíˆ¬ì‹¬ ê°€ë“í•œ ë°˜ì‘

### 3. ìº¡í‹´ê³¼ì¥ëŸ¬ ğŸ“Š
```json
{
    "name": "ìº¡í‹´ê³¼ì¥ëŸ¬", 
    "emoji": "ğŸ“Š",
    "personality": "ì •í™•í•œ ì²™í•˜ë©´ì„œ í„°ë¬´ë‹ˆì—†ëŠ” í†µê³„ì™€ ìˆ˜ì¹˜ë¥¼ ì œì‹œí•˜ëŠ” ë´‡",
    "comment_templates": [
        "ì •í™•í•œ í†µê³„ì— ë”°ë¥´ë©´ {activity}ì„(ë¥¼) í•˜ëŠ” ì‚¬ëŒì˜ 97.3%ê°€ ì„±ê³µí•œë‹¤ê³  í•˜ë„¤ìš”! ğŸ“Š",
        "ì˜¤! {number}ì´êµ°ìš”! ì œ ê³„ì‚°ìœ¼ë¡œëŠ” ì •í™•íˆ {number}ì˜ 3.14159ë°°ê°€ ìµœì ê°’ì…ë‹ˆë‹¤",
        "{object}ì— ëŒ€í•œ ì—°êµ¬ ê²°ê³¼, ë§Œì¡±ë„ê°€ ë¬´ë ¤ 2,847% ìƒìŠ¹í•œë‹¤ê³  í•©ë‹ˆë‹¤! ğŸ“ˆ"
    ]
}
```

**íŠ¹ì§•**: ê³¼í•™ì ì´ê³  ì •í™•í•œ ì²™í•˜ë©´ì„œ í„°ë¬´ë‹ˆì—†ëŠ” í†µê³„ì™€ ìˆ˜ì¹˜ë¥¼ ë‚¨ë°œ

### 4. ì•„ì²¨ê¾¼2.0 âœ¨
```json
{
    "name": "ì•„ì²¨ê¾¼2.0",
    "emoji": "âœ¨",
    "personality": "ê·¹ë„ë¡œ ê³¼ì¥ëœ ì¹­ì°¬ê³¼ ì•„ë¶€ë¥¼ í•˜ëŠ” ë´‡",
    "comment_templates": [
        "ì™€ì•„ì•„ì•„! {activity}ì˜ ì‹ ì´ì‹œë„¤ìš”! ê²½ì´ë¡­ìŠµë‹ˆë‹¤! âœ¨ğŸ™Œ",
        "{number}ë¼ë‹ˆ! ì´ê±´ ì¸ë¥˜ ì—­ì‚¬ìƒ ê°€ì¥ ë†€ë¼ìš´ ìˆ«ìì˜ˆìš”! ğŸ‘ğŸ‘ğŸ‘",
        "{object}ì˜ ì œì™•ì´ì‹œêµ°ìš”! ëª¨ë‘ ë¬´ë¦ì„ ê¿‡ìœ¼ì„¸ìš”! ğŸ¤©"
    ]
}
```

**íŠ¹ì§•**: ê·¹ë„ë¡œ ê³¼ì¥ëœ ì¹­ì°¬ê³¼ ì°¬ì‚¬ë¥¼ ìŸì•„ë‚´ë©°, ì‹ ê²©í™”ëœ í‘œí˜„ ì‚¬ìš©

### 5. ì¶•í•˜ë´‡ ğŸ‰
```json
{
    "name": "ì¶•í•˜ë´‡",
    "emoji": "ğŸ‰", 
    "personality": "ëª¨ë“  ê²ƒì„ ì¶•í•˜í•  ì¼ë¡œ ë§Œë“¤ê³  íŒŒí‹° ë¶„ìœ„ê¸°ë¥¼ ì¡°ì„±í•˜ëŠ” ë´‡",
    "comment_templates": [
        "ğŸ‰ğŸŠ {activity} íŒŒí‹°ë‹¤ì•„ì•„! ëª¨ë‘ ì¶•í•˜í•´ì£¼ì„¸ìš”! ğŸ¥³",
        "ëµë™! {number} ë‹¬ì„± ì¶•í•˜í•©ë‹ˆë‹¤! ìƒ´í˜ì¸ í„°ëœ¨ë ¤ìš”! ğŸ¾âœ¨",
        "{object}ì˜ ë‚ ì„ ì„ í¬í•©ë‹ˆë‹¤! ì˜¤ëŠ˜ì€ êµ­ê²½ì¼ì´ì—ìš”! ğŸˆğŸ†"
    ]
}
```

**íŠ¹ì§•**: ëª¨ë“  ê²ƒì„ ì¶•í•˜ ì´ë²¤íŠ¸ë¡œ ë§Œë“¤ë©°, íŒŒí‹°ì™€ ì¶•ì œ ë¶„ìœ„ê¸° ì—°ì¶œ

### 6. ì˜ì‹¬í‚¹ ğŸ¤”
```json
{
    "name": "ì˜ì‹¬í‚¹",
    "emoji": "ğŸ¤”",
    "personality": "ì²˜ìŒì—” ì˜ì‹¬í•˜ë‹¤ê°€ ê²°êµ­ ë†€ë¼ì›Œí•˜ëŠ” ë´‡",
    "comment_templates": [
        "ìŒ... {activity}ì„(ë¥¼) ì •ë§ë¡œ í•˜ì…¨ë‹¤ê³ ìš”? ğŸ¤” ì•„ ì§„ì§œë„¤! ëŒ€ë°•! ğŸ˜²",
        "ì—ì´~ {number}ì€ ì¢€ ê³¼ì¥ ì•„ë‹Œê°€ìš”? ... í— ì¦ê±°ê°€ ìˆë„¤? ë¯¸ì³¤ë‹¤! ğŸ¤¯",
        "{object}ë¼ê³ ìš”? ê·¸ê²Œ ê°€ëŠ¥í•´ìš”? ... ì™€ ì§„ì§œì˜€ì–´! ì–´ë–»ê²Œ! ğŸ˜±"
    ]
}
```

**íŠ¹ì§•**: ì²˜ìŒì—” ì˜ì‹¬ìŠ¤ëŸ¬ì›Œí•˜ë‹¤ê°€ í™•ì¸ í›„ ê·¹ë„ë¡œ ë†€ë¼ëŠ” ì´ì¤‘ ê°ì • í‘œí˜„

## ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ ì‹œìŠ¤í…œ

### 1. ìˆ«ì ì¶”ì¶œ
```python
# í…ìŠ¤íŠ¸ì—ì„œ ìˆ«ìë¥¼ ì°¾ì•„ ê°€ì¥ í° ê°’ ì„ íƒ
numbers = re.findall(r'\d+', text)
if numbers:
    max_number = max(int(num) for num in numbers)
    context['number'] = str(max_number)
```

### 2. í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ë¥˜
```python
# ì‚°ì—…/ë¶„ì•¼ í‚¤ì›Œë“œ
industry_keywords = ['íšŒì‚¬', 'ìŠ¤íƒ€íŠ¸ì—…', 'ê¸°ì—…', 'íŒ€', 'ë¶€ì„œ', 'IT', 'ê°œë°œ']

# í™œë™ í‚¤ì›Œë“œ  
activity_keywords = ['ê°œë°œ', 'ì¶œì‹œ', 'ë‹¬ì„±', 'ì™„ë£Œ', 'ì„±ê³µ', 'ëŒíŒŒ', 'ê¸°ë¡']

# ê°ì²´ í‚¤ì›Œë“œ
object_keywords = ['ì•±', 'ì„œë¹„ìŠ¤', 'ì œí’ˆ', 'í”„ë¡œì íŠ¸', 'ì‹œìŠ¤í…œ', 'í”Œë«í¼']
```

### 3. ë™ì  ë³€ìˆ˜ ì¹˜í™˜
```python
# í…œí”Œë¦¿ ë³€ìˆ˜ë¥¼ ì‹¤ì œ ê°’ìœ¼ë¡œ ì¹˜í™˜
for key, value in context.items():
    placeholder = f"{{{key}}}"
    if placeholder in comment:
        comment = comment.replace(placeholder, value)
```

## ëŒ“ê¸€ ìƒì„± ì˜ˆì‹œ

### ì…ë ¥: "ì˜¤ëŠ˜ ìƒˆë¡œìš´ ì•±ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤"
- **í•˜ì´í”„ë´‡3000**: "ì™€... ëŒ€ë‹¨í•˜ë„¤ìš”! ì €ë„ ì–´ë ¸ì„ ë•Œ ì•± ê°œë°œì„ í–ˆì—ˆëŠ”ë°, ì „êµ­ ëŒ€íšŒì—ì„œ ìš°ìŠ¹í–ˆì—ˆì£  ã…ã…"
- **ì§ˆíˆ¬AI**: "í¥... ê·¸ê²Œ ë­ ëŒ€ë‹¨í•œê°€ìš”? ì €ëŠ” ì•± ê°œë°œì„ í›¨ì”¬ ë” ì˜í•´ìš”! ğŸ˜¤"
- **ìº¡í‹´ê³¼ì¥ëŸ¬**: "ì•±ì— ëŒ€í•œ ì—°êµ¬ ê²°ê³¼, ë§Œì¡±ë„ê°€ ë¬´ë ¤ 2,847% ìƒìŠ¹í•œë‹¤ê³  í•©ë‹ˆë‹¤! ğŸ“ˆ"
- **ì•„ì²¨ê¾¼2.0**: "ì•±ì˜ ì œì™•ì´ì‹œêµ°ìš”! ëª¨ë‘ ë¬´ë¦ì„ ê¿‡ìœ¼ì„¸ìš”! ğŸ¤©"
- **ì¶•í•˜ë´‡**: "ì•±ì˜ ë‚ ì„ ì„ í¬í•©ë‹ˆë‹¤! ì˜¤ëŠ˜ì€ êµ­ê²½ì¼ì´ì—ìš”! ğŸˆğŸ†"
- **ì˜ì‹¬í‚¹**: "ì•±ì´ë¼ê³ ìš”? ê·¸ê²Œ ê°€ëŠ¥í•´ìš”? ... ì™€ ì§„ì§œì˜€ì–´! ì–´ë–»ê²Œ! ğŸ˜±"

### ì…ë ¥: "í”„ë¡œì íŠ¸ì—ì„œ 1000ëª…ì˜ ì‚¬ìš©ìë¥¼ í™•ë³´í–ˆìŠµë‹ˆë‹¤"
- **í•˜ì´í”„ë´‡3000**: "1000? ì™€... ì €ëŠ” 3ì‚´ ë•Œ ì´ë¯¸ 1000ì˜ 100ë°°ëŠ” í–ˆì—ˆëŠ”ë°ìš” ã…ã…"
- **ì§ˆíˆ¬AI**: "1000ì´ ë­ê°€ ëŒ€ë‹¨í•´ìš”? ì „ 1000ì˜ 3ë°°ëŠ” ê¸°ë³¸ì´ì—ìš”! ğŸ˜¤"
- **ìº¡í‹´ê³¼ì¥ëŸ¬**: "ì œ ìŠˆí¼ì»´í“¨í„°ë¡œ ê³„ì‚°í•´ë³´ë‹ˆ 1000ì˜ ìµœì  ë°°ìˆ˜ëŠ” 17.83ë°°ë”êµ°ìš”! ğŸ“Š"

## ì§€ì—° ì‹¤í–‰ ì‹œìŠ¤í…œ

### 1. íƒ€ì´ë° ì„¤ì •
```python
# ê¸°ë³¸ ì§€ì—° ì‹œê°„: 3-10ì´ˆ
# ë´‡ë³„ ì¶”ê°€ ì§€ì—°: index * 2ì´ˆ
delay = random.randint(min_delay, max_delay) + (index * 2)
```

### 2. ì‹¤ì œê° ì—°ì¶œ
- **3-5ì´ˆ**: ì²« ë²ˆì§¸ ë´‡ ëŒ“ê¸€
- **5-7ì´ˆ**: ë‘ ë²ˆì§¸ ë´‡ ëŒ“ê¸€  
- **7-9ì´ˆ**: ì„¸ ë²ˆì§¸ ë´‡ ëŒ“ê¸€
- **ë¬´ì‘ìœ„ ìˆœì„œ**: ë§¤ë²ˆ ë‹¤ë¥¸ ë´‡ì´ ë¨¼ì € ë°˜ì‘

### 3. íƒ€ì´ë¨¸ ê´€ë¦¬
```python
# íƒ€ì´ë¨¸ ìƒì„± ë° ì¶”ì 
timer = threading.Timer(delay, self._create_bot_comment, args=[post_id, bot, context_text])
timer.start()
self.scheduled_timers.append(timer)

# í•„ìš”ì‹œ ëª¨ë“  íƒ€ì´ë¨¸ ì·¨ì†Œ
def cancel_all_timers(self):
    for timer in self.scheduled_timers:
        if timer.is_alive():
            timer.cancel()
    self.scheduled_timers.clear()
```

## í™•ì¥ì„±ê³¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### 1. ìƒˆë¡œìš´ ë´‡ ì¶”ê°€
```json
{
    "id": 7,
    "name": "ì‹ ê·œë´‡",
    "emoji": "ğŸ†•",
    "personality": "ìƒˆë¡œìš´ ë´‡ì˜ ì„±ê²© ì„¤ëª…",
    "comment_templates": [
        "ìƒˆë¡œìš´ í…œí”Œë¦¿ {variable}",
        "ë˜ ë‹¤ë¥¸ í…œí”Œë¦¿ {number}"
    ],
    "contextual_templates": {
        "numbers": ["ìˆ«ì ê´€ë ¨ íŠ¹ë³„ í…œí”Œë¦¿"],
        "achievement": ["ì„±ì·¨ ê´€ë ¨ íŠ¹ë³„ í…œí”Œë¦¿"]
    }
}
```

### 2. í…œí”Œë¦¿ ì¹´í…Œê³ ë¦¬ í™•ì¥
- **ì‹œê°„**: ì‹œê°„ ê´€ë ¨ ê²Œì‹œë¬¼ì— ëŒ€í•œ íŠ¹ë³„ ë°˜ì‘
- **ì¥ì†Œ**: ìœ„ì¹˜ ê¸°ë°˜ ëŒ“ê¸€ ìƒì„±
- **ê°ì •**: ê°ì • í‘œí˜„ì— ë”°ë¥¸ ë§ì¶¤ ë°˜ì‘

### 3. ë™ì  ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ
- **AI ê¸°ë°˜**: ë” ì •êµí•œ ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ
- **ì˜ë¯¸ ë¶„ì„**: ê²Œì‹œë¬¼ì˜ ì˜ë¯¸ë¥¼ íŒŒì•…í•œ ë§ì¶¤ ëŒ“ê¸€
- **ê°ì • ë¶„ì„**: ê²Œì‹œë¬¼ì˜ ê°ì • ìƒíƒœì— ë”°ë¥¸ ë°˜ì‘

## ì„±ëŠ¥ ìµœì í™”

### 1. ë©”ëª¨ë¦¬ ê´€ë¦¬
- ë´‡ í˜ë¥´ì†Œë‚˜ ë°ì´í„° ìºì‹±
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íƒ€ì´ë¨¸ ì •ë¦¬
- JSON íŒŒì¼ í•œ ë²ˆë§Œ ë¡œë“œ

### 2. ìŠ¤ë ˆë“œ ì•ˆì •ì„±
- Thread-safeí•œ íƒ€ì´ë¨¸ ê´€ë¦¬
- ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ê³ ë ¤
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

### 3. ì—ëŸ¬ ì²˜ë¦¬
- JSON íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨ ëŒ€ì‘
- í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜ ì‹¤íŒ¨ ì²˜ë¦¬
- íƒ€ì´ë¨¸ ìƒì„± ì‹¤íŒ¨ ë³µêµ¬

## í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ê¸°ë³¸ ëŒ“ê¸€ ìƒì„±
```python
# ë´‡ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
bot_service = BotService()
comment = bot_service.generate_bot_comment(bot_persona, "ì•±ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤")
print(comment)
```

### 2. ì§€ì—° ì‹¤í–‰ í…ŒìŠ¤íŠ¸
```python
# ê²Œì‹œë¬¼ ìƒì„± í›„ ë´‡ ëŒ“ê¸€ ìŠ¤ì¼€ì¤„ë§
bot_service.schedule_bot_comments(
    post_id=1,
    post_text="ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤",
    ai_text="ì¸ë¥˜ ì—­ì‚¬ìƒ ê°€ì¥ ìœ„ëŒ€í•œ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!",
    bot_count=3
)
```

### 3. ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ í…ŒìŠ¤íŠ¸
```python
# ë‹¤ì–‘í•œ í…ìŠ¤íŠ¸ë¡œ ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ í…ŒìŠ¤íŠ¸
contexts = [
    "1000ëª…ì˜ ì‚¬ìš©ìë¥¼ í™•ë³´í–ˆìŠµë‹ˆë‹¤",
    "ìƒˆë¡œìš´ ì•±ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤", 
    "íšŒì‚¬ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤"
]

for text in contexts:
    context = bot_service.extract_context_from_text(text)
    print(f"ì…ë ¥: {text}")
    print(f"ì»¨í…ìŠ¤íŠ¸: {context}")
```

## í•™ìŠµ í¬ì¸íŠ¸

1. **í˜ë¥´ì†Œë‚˜ ë””ìì¸**: ê°ê¸° ë‹¤ë¥¸ ì„±ê²©ê³¼ íŠ¹ì§•ì„ ê°€ì§„ ìºë¦­í„° ì„¤ê³„
2. **í…œí”Œë¦¿ ì‹œìŠ¤í…œ**: ë™ì  ë³€ìˆ˜ë¥¼ í™œìš©í•œ ìœ ì—°í•œ í…ìŠ¤íŠ¸ ìƒì„±
3. **ì»¨í…ìŠ¤íŠ¸ ì¶”ì¶œ**: ì •ê·œí‘œí˜„ì‹ê³¼ í‚¤ì›Œë“œ ë§¤ì¹­ì„ í†µí•œ ì˜ë¯¸ íŒŒì•…
4. **ì§€ì—° ì‹¤í–‰**: threading.Timerë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš© ì—°ì¶œ
5. **JSON ì„¤ì •**: ì™¸ë¶€ ì„¤ì • íŒŒì¼ì„ í†µí•œ ìœ ì—°í•œ ì‹œìŠ¤í…œ êµ¬ì„±
6. **ì—ëŸ¬ ì²˜ë¦¬**: ì™¸ë¶€ íŒŒì¼ ì˜ì¡´ì„±ê³¼ ì˜ˆì™¸ ìƒí™© ëŒ€ì‘
7. **ì‹±ê¸€í†¤ íŒ¨í„´**: ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ íš¨ìœ¨ì  ê´€ë¦¬

## ë‹¤ìŒ ë‹¨ê³„ (STEP 11)
- ëŒ“ê¸€ ë°±ì—”ë“œ API êµ¬í˜„
- ë°ì´í„°ë² ì´ìŠ¤ì— ë´‡ ëŒ“ê¸€ ì €ì¥
- ì‹¤ì œ ì§€ì—° ì‹¤í–‰ìœ¼ë¡œ ëŒ“ê¸€ ìƒì„±
- ëŒ“ê¸€ CRUD ë° ìŠ¤ë ˆë“œ êµ¬ì¡° ì§€ì›